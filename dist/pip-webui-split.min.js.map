{"version":3,"sources":["split.ts"],"names":["thisModule","angular","module","run","$rootScope","pipSplit","$on","event","toState","toParams","fromState","fromParams","splitElements","$","length","removeClass","name","forwardTransition","addClass","provider","addTransitionSequence","sequence","_","isArray","Error","transitionSequences","push","i","toIndex","fromIndex","indexOf","this","$get"],"mappings":"CAOA,WACI,YAEA,IAAIA,GAAaC,QAAQC,OAAO,cAEhCF,GAAWG,KAAK,aAAS,WAAY,SAAQC,EAAAC,GAEzCD,EAAWE,IAAI,oBACX,SAASC,EAAOC,EAASC,EAAUC,EAAWC,GAE1C,GAAIC,GAAgBC,EAAE,aAElBD,GAAcE,OAAS,IACvBF,EAAcG,YAAY,0BAC1BH,EAAcG,YAAY,uBACtBP,EAAQQ,MAAQN,EAAUM,OACtBX,EAASY,kBAAkBT,EAASE,GACpCE,EAAcM,SAAS,0BAEvBN,EAAcM,SAAS,8BAU/ClB,EAAWmB,SAAS,WAAY,WAe5B,QAAAC,GAA+BC,GAC3B,IAAKC,EAAEC,QAAQF,IAAgC,GAAnBA,EAASP,OACjC,KAAM,IAAIU,OAAM,sDAGpBC,GAAoBC,KAAKL,GAG7B,QAAAJ,GAA2BT,EAASE,GAChC,GAAIiB,GAAGC,EAASC,CAEhB,KAAKF,EAAI,EAAGA,EAAIF,EAAoBX,OAAQa,IAIxC,GAHAC,EAAUH,EAAoBE,GAAGG,QAAQtB,EAAQQ,MACjDa,EAAYJ,EAAoBE,GAAGG,QAAQpB,EAAUM,MAEjDY,GAAU,EACV,MAAOA,GAAUC,CAIzB,QAAO,EAlCX,GAAIJ,KAEJM,MAAKX,sBAAwBA,EAE7BW,KAAKC,KAAO,WACR,OACIf,kBAAmBA","file":"pip-webui-split.min.js","sourcesContent":["/**\r\n * @file Split layout\r\n * @copyright Digital Living Software Corp. 2014-2015\r\n */\r\n\r\n/* global $, angular */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSplit', []);\r\n\r\n    thisModule.run( function($rootScope, pipSplit) {\r\n        // Intercept routes\r\n        $rootScope.$on('$stateChangeStart',\r\n            function(event, toState, toParams, fromState, fromParams) {\r\n                // Split animation\r\n                var splitElements = $('.pip-split');\r\n                \r\n                if (splitElements.length > 0) {\r\n                    splitElements.removeClass('pip-transition-forward');\r\n                    splitElements.removeClass('pip-transition-back');\r\n                    if (toState.name != fromState.name) {\r\n                        if (pipSplit.forwardTransition(toState, fromState)) {\r\n                            splitElements.addClass('pip-transition-forward');\r\n                        } else {\r\n                            splitElements.addClass('pip-transition-back');\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n        );\r\n\r\n    });\r\n\r\n    thisModule.provider('pipSplit', function(): any {\r\n        var transitionSequences = [];\r\n\r\n        this.addTransitionSequence = addTransitionSequence;\r\n\r\n        this.$get = function () {\r\n            return {\r\n                forwardTransition: forwardTransition\r\n            };\r\n        };\r\n\r\n        return;\r\n\r\n        //----------------------------\r\n\r\n        function addTransitionSequence(sequence) {\r\n            if (!_.isArray(sequence) || sequence.length == 0) {\r\n                throw new Error('Transition sequence must be an array of state names');\r\n            }\r\n\r\n            transitionSequences.push(sequence);\r\n        }\r\n\r\n        function forwardTransition(toState, fromState) {\r\n            var i, toIndex, fromIndex;\r\n\r\n            for (i = 0; i < transitionSequences.length; i++) {\r\n                toIndex = transitionSequences[i].indexOf(toState.name),\r\n                fromIndex = transitionSequences[i].indexOf(fromState.name);\r\n\r\n                if (toIndex > -1) {\r\n                    return toIndex > fromIndex;\r\n                }\r\n            }\r\n\r\n            return false\r\n        }\r\n\r\n    });\r\n\r\n})();\r\n"]}